<UserControl x:Class="Prueba.view.principalView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Prueba.view"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!-- Bienvenida -->
            <TextBlock Text="{Binding TextoEntrada}" 
                       FontSize="24" FontWeight="Bold" Margin="0,0,0,20"
                       Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>

            <!-- Resumen de actividad -->
            <UniformGrid Columns="2" Margin="0,0,0,20">
                <Border Background="#FFCCE5FF" Padding="10" Margin="5" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="Vehículos en reparación" FontWeight="Bold"
                                   Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>
                        <TextBlock Text="{Binding VehiculosEnReparacion}" FontSize="24"/>
                    </StackPanel>
                </Border>
                <Border Background="#FFD5F5D5" Padding="10" Margin="5" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="Reparaciones finalizadas hoy" FontWeight="Bold"
                                   Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>
                        <TextBlock Text="{Binding ReparacionesFinalizadasHoy}" FontSize="24"/>
                    </StackPanel>
                </Border>
                <Border Background="#FFFFE0B2" Padding="10" Margin="5" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="Vehículos sin empezar" FontWeight="Bold"
                                   Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>
                        <TextBlock Text="{Binding VehiculosSinEmpezar}" FontSize="24"/>
                    </StackPanel>
                </Border>
                <Border Background="#FFF8BBD0" Padding="10" Margin="5" CornerRadius="10">
                    <StackPanel>
                        <TextBlock Text="Facturas pendientes" FontWeight="Bold"
                                   Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>
                        <TextBlock Text="{Binding FacturasPendientes}" FontSize="24"/>
                    </StackPanel>
                </Border>
            </UniformGrid>

            <!-- Vehículos asignados -->
            <TextBlock Text="Vehículos asignados" FontSize="18" FontWeight="SemiBold" Margin="0,10,0,10"
                       Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>
            <ListView ItemsSource="{Binding VehiculosAsignados}" Margin="0,0,0,20">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="LightGray" BorderThickness="1" Margin="5" Padding="10" CornerRadius="8">
                            <StackPanel>
                                <TextBlock Text="{Binding Vehiculo}" FontWeight="Bold" FontSize="16"/>
                                <TextBlock Text="{Binding Problema}" TextWrapping="Wrap"/>
                                <TextBlock Text="Estado: " FontWeight="Bold" />
                                <TextBlock Text="{Binding Estado}" FontStyle="Italic"/>
                                <Button Content="Ver Reparación"
                                        HorizontalAlignment="Left"
                                        Margin="0,10,0,0"
                                        Command="{Binding DataContext.VerReparacionCommand, RelativeSource={RelativeSource AncestorType=ListView}}"
                                        CommandParameter="{Binding}" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Accesos rápidos -->
            <TextBlock Text="Accesos rápidos" FontSize="18" FontWeight="SemiBold" Margin="0,10,0,10"
                       Style="{StaticResource txtChildViews}" Tag="{StaticResource colorIconosVentanaPrincipal}"/>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,10">
                <Button Content="Registrar Vehículo" Width="160" Height="40" Margin="10"/>
                <Button Content="Ver Vehículos sin Asignar" Width="200" Height="40" Margin="10"/>
                <Button Content="Historial de Reparaciones" Width="200" Height="40" Margin="10"/>
            </StackPanel>

        </StackPanel>
    </ScrollViewer>
</UserControl>
